pipeline {
agent any

tools {
maven "maven-9"
}
  stages{
    stage("git intigration") {
      steps{
        git 'https://github.com/R807989/maven-web-app.git'
      }
    }

stage("build the maven"){
steps{
sh "mvn clean install package"
}
}
stage("build image"){
steps{


sh "docker build -t ravikumardockerhub/maven-web-app ."

}
}
stage("login"){
steps{
script {
sh withCredentials([string(credentialsId: 'dockerhub', variable: 'dhpswd')]) {
    // some block
sh 'docker login -u ravikumardockerhub -p ${dhpswd}'
}
}
  }
}


  

